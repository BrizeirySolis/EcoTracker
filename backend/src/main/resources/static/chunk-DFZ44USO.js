import{a as y,c as q,h as S,r as P,t as k}from"./chunk-SN6VXKO3.js";import{F as o,Ga as x,H as f,Ha as v,I as h,M as C,Na as w,P as m,R as n,S as i,X as b,Y as _,ba as r,da as c,fa as d,ga as g,ha as u,wa as M,ya as R}from"./chunk-LRAL7NZY.js";function E(s,l){if(s&1&&(n(0,"div",17),r(1),i()),s&2){let a=_();o(),c(" ",a.error," ")}}function I(s,l){if(s&1&&(n(0,"div",18),r(1),i()),s&2){let a=_();o(),c(" ",a.success," ")}}var O=class s{constructor(l,a){this.authService=l;this.router=a}signupRequest={name:"",username:"",email:"",password:""};loading=!1;error="";success="";register(){if(this.loading=!0,this.error="",this.success="",!this.signupRequest.name||!this.signupRequest.username||!this.signupRequest.email||!this.signupRequest.password){this.error="Por favor, completa todos los campos",this.loading=!1;return}this.authService.signup(this.signupRequest).subscribe({next:l=>{this.success="Registro exitoso. Ahora puedes iniciar sesi\xF3n.",this.loading=!1,setTimeout(()=>{this.router.navigate(["/login"])},2e3)},error:l=>{this.error=l.error?.message||"Error en el registro. Int\xE9ntalo de nuevo.",this.loading=!1}})}static \u0275fac=function(a){return new(a||s)(f(w),f(x))};static \u0275cmp=h({type:s,selectors:[["app-register"]],decls:29,vars:8,consts:[[1,"register-container"],[1,"register-form"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[1,"form-group"],["for","name"],["type","text","id","name","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","username"],["type","text","id","username","name","username","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","email"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"button-group"],[1,"btn-register",3,"click","disabled"],[1,"login-link"],["routerLink","/login"],[1,"alert","alert-danger"],[1,"alert","alert-success"]],template:function(a,e){a&1&&(n(0,"div",0)(1,"div",1)(2,"h2"),r(3,"Registro de Usuario"),i(),C(4,E,2,1,"div",2)(5,I,2,1,"div",3),n(6,"div",4)(7,"label",5),r(8,"Nombre Completo"),i(),n(9,"input",6),u("ngModelChange",function(t){return g(e.signupRequest.name,t)||(e.signupRequest.name=t),t}),i()(),n(10,"div",4)(11,"label",7),r(12,"Nombre de Usuario"),i(),n(13,"input",8),u("ngModelChange",function(t){return g(e.signupRequest.username,t)||(e.signupRequest.username=t),t}),i()(),n(14,"div",4)(15,"label",9),r(16,"Correo Electr\xF3nico"),i(),n(17,"input",10),u("ngModelChange",function(t){return g(e.signupRequest.email,t)||(e.signupRequest.email=t),t}),i()(),n(18,"div",4)(19,"label",11),r(20,"Contrase\xF1a"),i(),n(21,"input",12),u("ngModelChange",function(t){return g(e.signupRequest.password,t)||(e.signupRequest.password=t),t}),i()(),n(22,"div",13)(23,"button",14),b("click",function(){return e.register()}),r(24),i()(),n(25,"div",15),r(26," \xBFYa tienes cuenta? "),n(27,"a",16),r(28,"Inicia sesi\xF3n aqu\xED"),i()()()()),a&2&&(o(4),m("ngIf",e.error),o(),m("ngIf",e.success),o(4),d("ngModel",e.signupRequest.name),o(4),d("ngModel",e.signupRequest.username),o(4),d("ngModel",e.signupRequest.email),o(4),d("ngModel",e.signupRequest.password),o(2),m("disabled",e.loading),o(),c(" ",e.loading?"Registrando...":"Registrarse"," "))},dependencies:[R,M,k,y,q,P,S,v],styles:[".register-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:80vh;padding:20px}.register-form[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;padding:30px;width:100%;max-width:450px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;color:#00b359}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:700;color:#333}.form-control[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #ddd;border-radius:6px;background-color:#fff;font-size:1rem}.button-group[_ngcontent-%COMP%]{margin-top:30px}.btn-register[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:6px;background-color:#00b359;color:#fff;font-weight:700;cursor:pointer;transition:background-color .3s}.btn-register[_ngcontent-%COMP%]:hover{background-color:#00833c}.btn-register[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.login-link[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00b359;text-decoration:none;font-weight:700}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.alert[_ngcontent-%COMP%]{padding:12px;margin-bottom:20px;border-radius:6px}.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}"]})};export{O as RegisterComponent};
