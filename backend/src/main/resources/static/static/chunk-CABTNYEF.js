import{a as v}from"./chunk-4DN257D6.js";import{a as h,c as y,f as S,h as w,o as W,q as P}from"./chunk-JA5G44CU.js";import{a as M}from"./chunk-RSETXWHU.js";import{F as c,Ga as _,H as u,I as f,R as n,S as o,T as b,X as d,ba as a,fa as s,ga as p,ha as l,ya as C}from"./chunk-22ZNRLWF.js";var D=class g{constructor(r,i){this.consumptionService=r;this.router=i}consumption={liters:0,date:new Date,cost:0};consumptionDate=this.formatDate(new Date);saveConsumption(){this.consumption.date=new Date(this.consumptionDate),this.consumptionService.saveWaterConsumption(this.consumption).subscribe({next:()=>{this.router.navigate(["/habitos"])},error:r=>{console.error("Error saving consumption:",r)}})}cancel(){this.router.navigate(["/habitos"])}formatDate(r){let i=r.getFullYear(),t=String(r.getMonth()+1).padStart(2,"0"),m=String(r.getDate()).padStart(2,"0");return`${i}-${t}-${m}`}static \u0275fac=function(i){return new(i||g)(u(v),u(_))};static \u0275cmp=f({type:g,selectors:[["app-water-form"]],decls:22,vars:3,consts:[[1,"container"],[1,"form-container"],[1,"form-group"],["for","consumption"],["type","number","id","consumption","name","consumption","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","date"],["type","date","id","date","name","date","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","cost"],["type","number","id","cost","name","cost","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"button-group"],[1,"btn-save",3,"click"],[1,"btn-cancel",3,"click"]],template:function(i,t){i&1&&(b(0,"app-navbar"),n(1,"div",0)(2,"div",1)(3,"h2"),a(4,"Agua"),o(),n(5,"div",2)(6,"label",3),a(7,"Agua consumida (m3)"),o(),n(8,"input",4),l("ngModelChange",function(e){return p(t.consumption.liters,e)||(t.consumption.liters=e),e}),o()(),n(9,"div",2)(10,"label",5),a(11,"Fecha"),o(),n(12,"input",6),l("ngModelChange",function(e){return p(t.consumptionDate,e)||(t.consumptionDate=e),e}),o()(),n(13,"div",2)(14,"label",7),a(15,"Costo"),o(),n(16,"input",8),l("ngModelChange",function(e){return p(t.consumption.cost,e)||(t.consumption.cost=e),e}),o()(),n(17,"div",9)(18,"button",10),d("click",function(){return t.saveConsumption()}),a(19,"Guardar"),o(),n(20,"button",11),d("click",function(){return t.cancel()}),a(21,"Cancelar"),o()()()()),i&2&&(c(8),s("ngModel",t.consumption.liters),c(4),s("ngModel",t.consumptionDate),c(4),s("ngModel",t.consumption.cost))},dependencies:[C,P,h,w,y,W,S,M],styles:[".container[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto}.form-container[_ngcontent-%COMP%]{background-color:#8ae68a;border-radius:12px;padding:30px;margin-top:30px}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:700;color:#333}.form-control[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:24px;background-color:#fff;font-size:1rem}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:30px}.btn-save[_ngcontent-%COMP%], .btn-cancel[_ngcontent-%COMP%]{padding:12px 40px;border:none;border-radius:24px;font-weight:700;cursor:pointer;transition:background-color .3s}.btn-save[_ngcontent-%COMP%]{background-color:#00833c;color:#fff}.btn-cancel[_ngcontent-%COMP%]{background-color:#e53935;color:#fff}.btn-save[_ngcontent-%COMP%]:hover{background-color:#006c32}.btn-cancel[_ngcontent-%COMP%]:hover{background-color:#c62828}"]})};export{D as WaterFormComponent};
