import{a as _}from"./chunk-4DN257D6.js";import{a as M,c as y,f as S,h as k,l as w,m as T,n as x,o as P,q as O}from"./chunk-JA5G44CU.js";import{a as h}from"./chunk-RSETXWHU.js";import{F as p,Ga as C,H as d,I as f,R as t,S as e,T as b,X as g,ba as o,fa as s,ga as m,ha as c,ya as v}from"./chunk-22ZNRLWF.js";var D=class u{constructor(i,a){this.consumptionService=i;this.router=a}transport={kilometers:0,transportType:"car",date:new Date,cost:0};transportDate=this.formatDate(new Date);saveTransport(){this.transport.date=new Date(this.transportDate),this.consumptionService.saveTransportUsage(this.transport).subscribe({next:()=>{this.router.navigate(["/habitos"])},error:i=>{console.error("Error saving transport usage:",i)}})}cancel(){this.router.navigate(["/habitos"])}formatDate(i){let a=i.getFullYear(),n=String(i.getMonth()+1).padStart(2,"0"),l=String(i.getDate()).padStart(2,"0");return`${a}-${n}-${l}`}static \u0275fac=function(a){return new(a||u)(d(_),d(C))};static \u0275cmp=f({type:u,selectors:[["app-transport-form"]],decls:32,vars:3,consts:[[1,"container"],[1,"form-container"],[1,"form-group"],["for","kilometers"],["type","number","id","kilometers","name","kilometers","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","type"],["id","type","name","type","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","car"],["value","bus"],["value","bicycle"],["value","walk"],["value","other"],["for","date"],["type","date","id","date","name","date","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"button-group"],[1,"btn-save",3,"click"],[1,"btn-cancel",3,"click"]],template:function(a,n){a&1&&(b(0,"app-navbar"),t(1,"div",0)(2,"div",1)(3,"h2"),o(4,"Transporte"),e(),t(5,"div",2)(6,"label",3),o(7,"Kil\xF3metros recorridos"),e(),t(8,"input",4),c("ngModelChange",function(r){return m(n.transport.kilometers,r)||(n.transport.kilometers=r),r}),e()(),t(9,"div",2)(10,"label",5),o(11,"Tipo de transporte"),e(),t(12,"select",6),c("ngModelChange",function(r){return m(n.transport.transportType,r)||(n.transport.transportType=r),r}),t(13,"option",7),o(14,"Autom\xF3vil"),e(),t(15,"option",8),o(16,"Autob\xFAs"),e(),t(17,"option",9),o(18,"Bicicleta"),e(),t(19,"option",10),o(20,"Caminando"),e(),t(21,"option",11),o(22,"Otro"),e()()(),t(23,"div",2)(24,"label",12),o(25,"Fecha"),e(),t(26,"input",13),c("ngModelChange",function(r){return m(n.transportDate,r)||(n.transportDate=r),r}),e()(),t(27,"div",14)(28,"button",15),g("click",function(){return n.saveTransport()}),o(29,"Guardar"),e(),t(30,"button",16),g("click",function(){return n.cancel()}),o(31,"Cancelar"),e()()()()),a&2&&(p(8),s("ngModel",n.transport.kilometers),p(4),s("ngModel",n.transport.transportType),p(14),s("ngModel",n.transportDate))},dependencies:[v,O,T,x,M,k,w,y,P,S,h],styles:[`.container[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto}.form-container[_ngcontent-%COMP%]{background-color:#8ae68a;border-radius:12px;padding:30px;margin-top:30px}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:700;color:#333}.form-control[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:24px;background-color:#fff;font-size:1rem}select.form-control[_ngcontent-%COMP%]{appearance:none;background-image:url('data:image/svg+xml;utf8,<svg fill="black" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');background-repeat:no-repeat;background-position:right 12px center}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:30px}.btn-save[_ngcontent-%COMP%], .btn-cancel[_ngcontent-%COMP%]{padding:12px 40px;border:none;border-radius:24px;font-weight:700;cursor:pointer;transition:background-color .3s}.btn-save[_ngcontent-%COMP%]{background-color:#00833c;color:#fff}.btn-cancel[_ngcontent-%COMP%]{background-color:#e53935;color:#fff}.btn-save[_ngcontent-%COMP%]:hover{background-color:#006c32}.btn-cancel[_ngcontent-%COMP%]:hover{background-color:#c62828}`]})};export{D as TransportFormComponent};
